##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule
# windowrule = float, class:^(kitty)$, title:^(kitty)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule {
  name = windowrule-1
  suppress_event = maximize
  match:class = .*
}

# Fix some dragging issues with XWayland
windowrule {
  name = windowrule-2
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}

###############################
### INDIVIDUAL WINDOW RULES ###
###############################

# Flameshot
# If you use multiple monitors, uncomment the monitor rule and set this to your leftmost monitor id,
# otherwise you have to move your cursor to the leftmost monitor before executing flameshot.
# If you have more than one monitor, then modify the 1 in the size rule according to their positioning/size.
windowrule { 
  name = windowrule-3
  stay_focused = on
  no_anim = on
  float = on
  dim_around = on
  rounding = 0
# monitor = 
  move = (0) (0)
  pin = on
  size = ((monitor_w*1)) ((monitor_h*1))
  border_size = 0
  no_initial_focus = on
  match:class = ^(flameshot)$
  match:title = ^(flameshot)$
}

# AIMP
windowrule {
  name = windowrule-4
  no_initial_focus = on
  match:initial_class = aimp.exe
  match:initial_title = ^$
}

windowrule {
  name = windowrule-5
  opacity = 0 override
  no_anim = on
  no_blur = on
  border_size = 0
  match:initial_class = aimp.exe
  match:initial_title = ^$
  match:focus = 0
}

windowrule {
  name = windowrule-6
  move = (6) (6)
  size = 588 1397
  match:initial_title = AIMP
}

# Clipse
windowrule {
  name = windowrule-7
  center = on
  float = on
  size = 1000 1300
  match:initial_title = Clipse GUI
}

# Discord
windowrule {
  name = windowrule-8
  workspace = special:void silent
  match:initial_title = discord.com is sharing a window.
}

# Flash
windowrule {
  name = windowrule-9
  float = on
  match:initial_title = Adobe Flash Player.*
}

# FL Studio
windowrule {
  name = windowrule-10
  move = (6) (6)
  size = 2548 1397
  match:initial_title = ^(FL Studio)(.*)$
}

# HCI
windowrule {
  name = windowrule-11
  render_unfocused = on
  match:initial_title = Hammer Crest Idle
}

# KeepassXC
windowrule {
  name = windowrule-12
  no_screen_share = on
  match:initial_class = org.keepassxc.KeePassXC
}

# ProtonVPN
windowrule {
  name = windowrule-13
  no_screen_share = on
  float = on
  move = (2154) (688)
  size = 400 714
  match:initial_class = protonvpn-app
}

############################
### Grouped Window Rules ###
############################

# Art Programs
windowrule {
  name = windowrule-14
  opacity = 1 override
  match:initial_class = Aseprite
}

windowrule {
  name = windowrule-15
  opacity = 1 override
  match:initial_class = gimp
}

windowrule {
  name = windowrule-16
  opacity = 1 override
  match:initial_class = krita
}

# Dialog windows â€“ float+center these windows.
windowrule {
  name = windowrule-17
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Open File)(.*)$
}

windowrule {
  name = windowrule-18
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Volume Control)(.*)$
}

windowrule {
  name = windowrule-19
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Select a File)(.*)$
}

windowrule {
  name = windowrule-20
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Choose wallpaper)(.*)$
}

windowrule {
  name = windowrule-21
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Open Folder)(.*)$
}

windowrule {
  name = windowrule-22
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Save screenshot)(.*)$
}

windowrule {
  name = windowrule-23
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Save As)(.*)$
}

windowrule {
  name = windowrule-24
  center = on
  float = on
  size = 1800 1300
  match:title = ^(Library)(.*)$
}

windowrule {
  name = windowrule-25
  center = on
  float = on
  size = 1800 1300
  match:title = ^(File Upload)(.*)$
}

windowrule {
  name = windowrule-26
  center = on
  float = on
  size = 1800 1300
  match:title = ^(.*)(wants to save)$
}

windowrule {
  name = windowrule-27
  center = on
  float = on
  size = 1800 1300
  match:title = ^(.*)(wants to open)$
}

# Picture-in-Picture
windowrule {
  name = windowrule-28
  float = on
  keep_aspect_ratio = on
  move = ((monitor_w*0.73)) ((monitor_h*0.72))
  size = (monitor_w*0.25)
  pin = on
  match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
}

###################
### LAYER RULES ###
###################

layerrule {
  name = layerrule-1
  no_anim = on
  match:namespace = hyprpicker
}

layerrule {
  name = layerrule-2
  no_anim = on
  match:namespace = selection
}

# Noctalia
# Ignore alpha is opacity%-1
layerrule {
    name = layerrule-3
    match:namespace = noctalia-background-.*$
    ignore_alpha = 0.59
    blur = true
    blur_popups = true
}
